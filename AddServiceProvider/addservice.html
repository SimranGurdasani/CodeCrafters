<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Booking</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">

    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="addservice.css" />
    
  </head>
  <body>
    <div class="box-parent d-flex justify-content-center">
      <div class="box">
        <div class="d-flex justify-content-center mb-3">
          <img
            src="/Images/UrbanEase-removebg-preview.png"
            alt=""
            style="height: 102px; width: 93px"
          />
        </div>
      </div>
    </div>
    <div class="cart-container">
      <h1>Add Service Provider</h1>
      <table id="provider-table" class="cart-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Experience</th>
            <th>Flexibility</th>
          </tr>
        </thead>
        <tbody id="cart-body">
          <!-- Cart items will be added here -->
      </tbody>
      </table>
      <!-- <div class="checkout-container" > -->
        <!-- <a href="" style="text-decoration: none;"> -->
       <!-- <button class="btn checkout" id="checkoutbtn" data-bs-toggle="modal" data-bs-target="#myModal">Continue</button> -->
       <!-- <button class="btn checkout" id="checkoutbtn" data-bs-toggle="modal" data-bs-target="#myModal">Continue</button> -->

      <!-- </a> -->
      <!-- </div> -->

        <button class="btn checkout" id="checkoutbtn" data-bs-toggle="modal" data-bs-target="#exampleModal">Continue</button>
      
    </div>

    <!-- Button trigger modal -->
<!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
  Launch demo modal
</button> -->


<!-- Modal -->
<!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Open modal for @mdo</button>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@fat">Open modal for @fat</button>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@getbootstrap">Open modal for @getbootstrap</button> -->

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Schedule date and time</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Write your preferred Date:</label>
            <input type="text" class="form-control" id="date">
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Write your preferred Time:</label>
            <textarea class="form-control" id="time"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="save-changes-btn">Save Changes</button>
      </div>
    </div>
  </div>
</div>




    <script>

      
  document.getElementById("save-changes-btn").addEventListener("click", function() {
    savedetails()
    window.location.href = "/Booking/booking.html";
    
  });

    function getUrlParams() {
        var params = {};
        var queryString = window.location.search.substring(1);
        var pairs = queryString.split('&');
        pairs.forEach(function(pair) {
            var parts = pair.split('=');
            var key = decodeURIComponent(parts[0]);
            var value = decodeURIComponent(parts[1]);
            params[key] = value;
        });
        return params;
    }

    
    function initializePage() {
        var params = getUrlParams();
        var name = params.name || '';
        var experience = params.experience || '';
        var flexibility = params.flexibility || '';
        // appendServiceProvider(name, experience, flexibility);
        //console.log(localStorage.getItem("name"))
        //console.log(localStorage.getItem("experience"))
        //console.log(localStorage.getItem("flexibility"))
        appendServiceProvider(name, experience, flexibility);
    }

    function appendServiceProvider() {
  
        var newRow = document.createElement('tr');
        console.log(localStorage.getItem("name"))
        console.log(localStorage.getItem("experience"))
        console.log(localStorage.getItem("flexibility"))

       var name= localStorage.getItem("name")
        var experience=localStorage.getItem("experience")
        var flexibility= localStorage.getItem("flexibility")

        var nameCell = document.createElement('td');
        nameCell.textContent = name;
        newRow.appendChild(nameCell);

        var experienceCell = document.createElement('td');
        experienceCell.textContent = experience;
        newRow.appendChild(experienceCell);

        var flexibilityCell = document.createElement('td');
        flexibilityCell.textContent = flexibility;
        newRow.appendChild(flexibilityCell);

        document.getElementById('provider-table').appendChild(newRow);
    }

    
    window.onload = initializePage;

   function savedetails(){
      let date= document.getElementById('date').value
      let time= document.getElementById('time').value
      console.log(date)
      console.log(time)
      localStorage.setItem('date', date)
      localStorage.setItem('time', time)
      console.log('time')
   }

  
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>  
    
  </body>
</html>
